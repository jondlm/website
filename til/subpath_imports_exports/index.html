<!DOCTYPE html><html lang="en"> <head><meta charset="UTF-8"><meta name="description" content="Jon's personal site."><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/website/favicon.svg?v=2"><meta name="generator" content="Astro v4.16.3"><title>Subpath imports / exports</title><link rel="stylesheet" href="/website/_astro/blog.-JKPVJtT.css"><script type="module" src="/website/_astro/hoisted.CfyTAeD1.js"></script></head> <body class="px-4 md:px-16 lg:px-32 xl:px-64 2xl:px-96 container mx-auto pb-2"> <div id="sentinal" class="h-6"></div> <div id="nav-stripe" class="print:hidden bg-slate-900 top-0 right-full left-0 w-full fixed opacity-0"></div> <nav id="navbar" class="print:hidden flex mb-8 px-2 pr-5 py-2 bg-slate-900 rounded-lg border border-slate-900"> <div class="flex-auto flex items-center"> <a href="/website"> <img src="/website/_astro/home_handwritten.DLN5N5L3_Z1ER9WK.svg" alt="home" loading="eager" width="65" height="25" decoding="async"> </a> </div> <div class="flex flex-auto items-center justify-end space-x-4"> <a class="text-slate-100" href="/website/values">values</a> <a class="text-slate-100" href="/website/blog">blog</a> <a class="text-slate-100" href="/website/til">TIL</a> <a class="text-slate-100" href="/website/resume">resume</a> </div> </nav>  <article class="md"> <h1 class="mb-2">TIL: Subpath imports / exports</h1> <div class="flex items-baseline"> <div class="text-gray-500 mt-0 -mr-2 text-sm"> 2022-08-24 </div> <ul> <li class="text-gray-500 text-xs border border-gray-400 rounded-full px-1.5 mr-1 inline-block">typescript</li><li class="text-gray-500 text-xs border border-gray-400 rounded-full px-1.5 mr-1 inline-block">node</li> </ul> </div> <p>Node 14.6+ and 12.19+ added support for new <code>imports</code> and <code>exports</code> fields in
<code>package.json</code>. These fields are essentially aliases that can be defined and
used across tooling.</p>
<p>Typescript added support for the fields in 4.7+</p>
<p>Parcel has an open issue to support it: <a href="https://github.com/parcel-bundler/parcel/issues/7840">https://github.com/parcel-bundler/parcel/issues/7840</a></p>
<p><strong>Example</strong></p>
<p><code>tsconfig.json</code></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#E1E4E8">    {</span></span>
<span class="line"><span style="color:#9ECBFF">      "compilerOptions"</span><span style="color:#E1E4E8">: {</span></span>
<span class="line"><span style="color:#9ECBFF">        "moduleResolution"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"node16"</span><span style="color:#E1E4E8">, </span><span style="color:#6A737D">// &#x3C;-- ðŸ”‘ need's to be `node16` or `nodenext`</span></span>
<span class="line"><span style="color:#9ECBFF">        "noEmit"</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">true</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">      },</span></span>
<span class="line"><span style="color:#9ECBFF">      "include"</span><span style="color:#E1E4E8">: [</span><span style="color:#9ECBFF">"src/**/*.ts"</span><span style="color:#E1E4E8">]</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span></code></pre>
<p><code>src/index.ts</code></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#F97583">    import</span><span style="color:#E1E4E8"> { foo } </span><span style="color:#F97583">from</span><span style="color:#9ECBFF"> "#me/nest/bird"</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">    console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(foo);</span></span>
<span class="line"></span></code></pre>
<p><code>src/next/bird.ts</code></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#F97583">    export</span><span style="color:#F97583"> const</span><span style="color:#79B8FF"> foo</span><span style="color:#F97583"> =</span><span style="color:#9ECBFF"> "bar"</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span></code></pre>
<p><code>package.json</code></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#E1E4E8">    {</span></span>
<span class="line"><span style="color:#9ECBFF">      "name"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"foo"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">      "imports"</span><span style="color:#E1E4E8">: {</span></span>
<span class="line"><span style="color:#9ECBFF">        "#me/*"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"./src/*.js"</span></span>
<span class="line"><span style="color:#E1E4E8">      },</span></span>
<span class="line"><span style="color:#9ECBFF">      "dependencies"</span><span style="color:#E1E4E8">: {</span></span>
<span class="line"><span style="color:#9ECBFF">        "typescript"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"^4.7.4"</span></span>
<span class="line"><span style="color:#E1E4E8">      }</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span></code></pre> </article>   </body></html>